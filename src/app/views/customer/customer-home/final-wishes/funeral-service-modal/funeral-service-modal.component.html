<div class="ll--modal--header">
  Funeral or Memorial Service Arrangements
  <button class="modal--close" [mat-dialog-close]="">
    <mat-icon class="icon--cross">cancel</mat-icon>
  </button>
</div>


<!-- First form -->

<form class="llp-form-wrapper" [formGroup]="selectAnyOneFormGroup" *ngIf="firstServicesSec" [@animate]="{value:'*',params:{delay:'100ms',scale:'.8', y:'-100px'}}">
  <div class="ll--modal--body">
    <div fxLayout="row wrap">
      <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="any--option--sec">
        <mat-radio-group aria-label="Select an option" class="llp-radio" (change)="onChange($event.value)" [formControl]="selectAnyOneFormGroup.controls['funaralServiceType']">
          <div class="checkbox-label fnt--18 mb-1">Select any one</div>
          <mat-radio-button class="mb-1" *ngFor="let foptions of funeralOptions" [value]="foptions.opt_code">
            {{foptions.opt_name}}
          </mat-radio-button>
        </mat-radio-group>        
      </div>
    </div>
  </div>
  <div class="ll--modal--footer text-center">
    <button mat-raised-button class="llp--primary--btn" onclick="changeSelection()">Save</button>
  </div>
</form>


<!-- Stepper start  here -->

<div *ngIf="allServicesSec" [@animate]="{value:'*',params:{delay:'100ms',scale:'.8', x:'-100px'}}">
  <div class="ll--modal--body idbox--modal--hgt">
    <div fxLayout="row wrap">
      <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">

        <div class="stepper--wrapper funeral--wrapper">
          <mat-horizontal-stepper labelPosition="bottom" #stepper>
            <mat-step [stepControl]="firstFormGroup1">

              <!-- step - 1 -->
              <form [formGroup]="firstFormGroup" class="llp-form-wrapper">
                <div fxLayout="row wrap">

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">

                    <mat-radio-group class="llp-radio mb-0" aria-label="Select an option" [formControl]="firstFormGroup.controls['serviceFor']">
                      <div class="checkbox-label">The service will be for:</div>
                      <mat-radio-button value="Friends and family" [checked]="firstFormGroup.controls['serviceFor'].value=='Friends and family'">Friends and family </mat-radio-button>
                      <mat-radio-button value="Private" [checked]="firstFormGroup.controls['serviceFor'].value=='Private'">Private</mat-radio-button>
                      <mat-radio-button value="Other" [checked]="firstFormGroup.controls['serviceFor'].value=='Other'" (change)="otherChange('otherChecked')">Other</mat-radio-button>
                    </mat-radio-group>

                    <mat-form-field class="full-width mt-1 no-mar" *ngIf="serviceOther">
                      <textarea matInput placeholder="Other" [formControl]="firstFormGroup.controls['serviceForOther']"></textarea>
                    </mat-form-field>
                  </div>

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio" aria-label="Select an option" [formControl]="firstFormGroup.controls['isBodyPresent']">
                      <div class="checkbox-label">The body:</div>
                      <mat-radio-button value="Will be present" [checked]="firstFormGroup.controls['isBodyPresent'].value=='Will be present'">Will be present </mat-radio-button>
                      <mat-radio-button value="Will not be present" [checked]="firstFormGroup.controls['isBodyPresent'].value=='Will not be present'">Will not be present</mat-radio-button>
                    </mat-radio-group>
                  </div>

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio mb-0" aria-label="Select an option" [formControl]="firstFormGroup.controls['isCasket']">
                      <div class="checkbox-label">The casket will be:</div>
                      <mat-radio-button value="Closed" [checked]="firstFormGroup.controls['isCasket'].value=='Closed'">Closed </mat-radio-button>
                      <mat-radio-button value="Open" [checked]="firstFormGroup.controls['isCasket'].value=='Open'">Open</mat-radio-button>
                    </mat-radio-group>
                  </div>

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio mb-0 mt-1" aria-label="Select an option">
                      <mat-form-field class="full-width no-mar">
                        <textarea matInput placeholder="The deceased will wear:" [formControl]="firstFormGroup.controls['deceasedWear']"></textarea>
                      </mat-form-field>
                    </mat-radio-group>
                  </div>
                </div>
                <div class="ll--modal--footer text-center">
                  <button mat-raised-button class="llp--secondary--btn mr-1" (click)="backToFirst()">Back</button>
                  <button mat-raised-button class="llp--primary--btn" matStepperNext>Next</button>
                </div>
              </form>
            </mat-step>


            <!-- step - 2 -->
            <mat-step [stepControl]="secondFormGroup1" optional>
              <form [formGroup]="secondFormGroup" class="llp-form-wrapper">
                <div fxLayout="row wrap">

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio mb-0" aria-label="Select an option" [formControl]="secondFormGroup.controls['serviceParticipants']">
                      <div class="checkbox-label">Service participants:</div>

                      <div fxLayout="row wrap">
                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="leaderChange($event.value)" [formControl]="secondFormGroup.controls['leaderChecked']" value="1">
                            Ceremony leader </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="ceremonySec">
                            <textarea matInput placeholder="Ceremony leader" [formControl]="secondFormGroup.controls['leaderDescrption']"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="eulogistChange($event.value)" [formControl]="secondFormGroup.controls['eulogistChecked']" value="1">
                            Eulogist </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="eulogistSec">
                            <textarea matInput placeholder="Eulogist" [formControl]="secondFormGroup.controls['eulogistdescription']"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="reflectionsChange($event.value)" [formControl]="secondFormGroup.controls['reflectionsChecked']" value="1">Reflections </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="reflectionsSec">
                            <textarea matInput placeholder="Reflections" [formControl]="secondFormGroup.controls['reflectionsDescription']"></textarea>
                          </mat-form-field>
                        </div>
                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="readingsChange($event.value)" [formControl]="secondFormGroup.controls['readingsChecked']" value="1">
                            Readings </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="readingsSec">
                            <textarea matInput placeholder="Readings" [formControl]="secondFormGroup.controls['readingsDescription']"></textarea>
                          </mat-form-field>
                        </div>
                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="musiciansChange($event.value)" [formControl]="secondFormGroup.controls['musiciansChecked']" value="1"
                            formcontrolName="musiciansChecked">Musicians </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="musiciansSec">
                            <textarea matInput placeholder="Musicians" [formControl]="secondFormGroup.controls['musiciansDescription']"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mb--5">
                          <mat-checkbox (change)="pallbearersChange($event.value)" value="1" [formControl]="secondFormGroup.controls['pallbearersChecked']">Pallbearers
                          </mat-checkbox>
                          <mat-form-field class="full-width mt-1 no-mar" *ngIf="pallbearersSec">
                            <textarea matInput placeholder="Pallbearers" [formControl]="secondFormGroup.controls['pallbearersDescription']"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mt-1">
                          <mat-form-field class="full-width no-mar ">
                            <textarea matInput [formControl]="secondFormGroup.controls['additionalParticipants']" placeholder="Additional participants:"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mt-1">
                          <mat-form-field class="full-width no-mar ">
                            <textarea matInput [formControl]="secondFormGroup.controls['servicesUsed']" placeholder="The following readings, poems, hymns, and music will be used during the service:"></textarea>
                          </mat-form-field>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="mt-1">
                          <mat-form-field class="full-width no-mar ">
                            <textarea matInput [formControl]="secondFormGroup.controls['flowersUsed']" placeholder="The following flowers will be used for the service:"></textarea>
                          </mat-form-field>
                        </div>

                      </div>

                    </mat-radio-group>
                  </div>

                </div>

                <div class="ll--modal--footer text-center">
                  <button mat-raised-button class="llp--secondary--btn" matStepperPrevious>Back</button>
                  <button mat-raised-button class="llp--primary--btn" matStepperNext>Next</button>
                </div>
              </form>
            </mat-step>



            <!-- step - 3 -->
            <mat-step [stepControl]="thirdFormGroup1">
              <form [formGroup]="thirdFormGroup" class="llp-form-wrapper" (ngSubmit)="PlanFormSubmit(selectAnyOneFormGroup.value,firstFormGroup.value,secondFormGroup.value,thirdFormGroup.value)">

                <div fxLayout="row wrap">

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio" aria-label="Select an option" [formControl]="thirdFormGroup.controls['isFloralArrangements']">
                      <div class="checkbox-label">Use floral arrangements service?:</div>
                      <mat-radio-button value="Yes" [checked]="thirdFormGroup.controls['isFloralArrangements'].value=='Yes'">Yes </mat-radio-button>
                      <mat-radio-button value="No" [checked]="thirdFormGroup.controls['isFloralArrangements'].value=='No'">No</mat-radio-button>
                    </mat-radio-group>
                  </div>
                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio" aria-label="Select an option" [formControl]="thirdFormGroup.controls['needVisualTribute']">
                      <div class="checkbox-label">I would like a visual tribute:</div>
                      <mat-radio-button (change)="vtChange($event)" value="Yes" [checked]="thirdFormGroup.controls['needVisualTribute'].value=='Yes'">Yes </mat-radio-button>
                      <mat-radio-button (change)="vtChange($event)" value="No" [checked]="thirdFormGroup.controls['needVisualTribute'].value=='No'">No</mat-radio-button>
                    </mat-radio-group>
                  </div>
                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" *ngIf="visualTribute">
                    <mat-form-field class="full-width no-mar ">
                      <textarea matInput [formControl]="thirdFormGroup.controls['peopleInVisualTribute']" placeholder="The following people will help prepare the visual tribute:"></textarea>
                    </mat-form-field>
                  </div>


                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100" class="">
                    <mat-radio-group class="llp-radio" aria-label="Select an option" [formControl]="thirdFormGroup.controls['havePreparedVisualTribute']">
                      <div class="checkbox-label">I have prepared a visual tribute:</div>
                      <mat-radio-button (change)="prepareVtChange($event)" value="Yes" [checked]="thirdFormGroup.controls['havePreparedVisualTribute'].value=='Yes'">Yes</mat-radio-button>
                      <mat-radio-button (change)="prepareVtChange($event)" value="No" [checked]="thirdFormGroup.controls['havePreparedVisualTribute'].value=='No'">No</mat-radio-button>
                    </mat-radio-group>
                  </div>

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50" class="cust--gapp" *ngIf="uploadDocAndLoc">
                    <div class="upload--buss--docs--sec">
                      <label>Upload your documents</label>
                      <div class="upload--box ">
                        <input type="file">
                        <mat-icon class="cloud-icon">cloud_upload</mat-icon>
                        <div class="select--file">Select file from your computer</div>
                      </div>
                      <div class="file--details mb-1">Supported formats Doc, PDF, txt, JPEG, JPG, PNG</div>
                    </div>
                  </div>
                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50" *ngIf="uploadDocAndLoc">
                    <mat-form-field class="full-width no-mar ">
                      <textarea matInput placeholder="Location of the document:" [formControl]="thirdFormGroup.controls['locationOfDocuments']"></textarea>
                    </mat-form-field>
                  </div>

                  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="100" fxFlex.xl="100">
                    <mat-form-field class="full-width no-mar ">
                      <textarea matInput placeholder="Additional plans and arrangements:" [formControl]="thirdFormGroup.controls['additionalPlans']"></textarea>
                    </mat-form-field>
                  </div>
                </div>
                <div class="ll--modal--footer text-center">
                  <button class="llp--secondary--btn" mat-button matStepperPrevious>Back</button>
                  <button mat-raised-button class="llp--primary--btn" mat-button>Submit</button>
                </div>
                <mat-form-field class="full-width" *ngIf="profileIdHiddenVal">
                    <input matInput name="profileId" [formControl]="thirdFormGroup.controls['profileId']" readonly="readonly">
                  </mat-form-field>
              </form>

            </mat-step>
          </mat-horizontal-stepper>
        </div>

      </div>
    </div>
  </div>
</div>