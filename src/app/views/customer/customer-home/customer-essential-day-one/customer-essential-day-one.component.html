<div class="shop-wrap llp--content--wrapper" fxLayout="row" fxLayoutWrap="wrap">
  <div class="full-width">
    <div class="">
      <advisor-legacy-details></advisor-legacy-details>
      <mat-card class="empty--section p-0" *ngIf="instruction_data_flag">
        <mat-card-header class="m-0">
          <mat-card-title class="m-0">My Essentials </mat-card-title>
        </mat-card-header>
        <mat-card-content [innerHtml]="instruction_data">
        </mat-card-content>
      </mat-card>
      <mat-card class="empty--section p-0">
        <mat-card-header class="m-0">
          <mat-card-title class="m-0">Personal Profile {{trusteeLegaciesAction}}</mat-card-title>
         
          <div *ngIf="showProfileListing && trusteeLegaciesAction && PersonalProfileManagementSection=='now'">
              <a class="no--of--trustee" *ngIf="showTrusteeCnt"  (click)="openManageTrusteeModal('Personal Profile','PersonalProfileManagement', true)">{{trusteeProfileCnt}} Trustees</a>   
            <button mat-raised-button class="llp--primary--btn llp--primary--sm--btn" (click)="openProfileModal({}, true)">+ Add</button>
          </div>
        </mat-card-header>
        <div *ngIf="PersonalProfileManagementSection=='now'">
          <mat-card-content *ngIf="!showProfileListing && trusteeLegaciesAction">
            <div class="build--ur--legacy" (click)="openProfileModal({}, true)">
              <mat-icon>person_pin</mat-icon>
              <p>
                <a>Add Personal Profile</a>
              </p>
            </div>
          </mat-card-content>

          <mat-card-content class="appointees--wrapper" *ngIf="showProfileListing">
            <div class="cust--user--details mt-1" *ngFor="let profileData of essentialProfileList; let i = index"
              [routerLink]="[dynamicRoute+'essential-detail-view', profileData._id]">
              <div class="name--letters">{{profileData.ppFirstName.charAt(0)+profileData.ppLastName.charAt(0)}}</div>
              <div class="user--name">
                <h5>{{profileData.ppFirstName +' '+ profileData.ppLastName}}</h5>
                <p class="mb-0">Last modified:
                  <span
                    *ngIf="profileData.modifiedOn && profileData.modifiedOn != ''">{{profileData.modifiedOn | date: 'yyyy/MM/dd'}}</span>
                  <span *ngIf="!profileData.modifiedOn">{{profileData.createdOn | date: 'yyyy/MM/dd'}}</span>
                </p>
              </div>
            </div>
          </mat-card-content>
        </div>
        <mat-card-content *ngIf="PersonalProfileManagementSection !='now'">
          <div>{{LegacyPermissionError}}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="empty--section p-0">
        <mat-card-header class="m-0">
          <mat-card-title class="m-0">ID Box </mat-card-title>
          <div *ngIf="showIdProofListing && trusteeLegaciesAction && IDBoxManagementSection=='now'">
              <a class="no--of--trustee" *ngIf="showTrusteeCnt"  (click)="openManageTrusteeModal('ID Box','IDBoxManagement', true)">{{trusteeIdCnt}} Trustees</a>   
            <button mat-raised-button class="llp--primary--btn llp--primary--sm--btn"
              (click)="openAddIdBoxModal({}, true)">+ Add</button>
          </div>
        </mat-card-header>
        <div *ngIf="IDBoxManagementSection=='now'">
          <mat-card-content *ngIf="!showIdProofListing && trusteeLegaciesAction">
            <div class="build--ur--legacy" (click)="openAddIdBoxModal({}, true)">
              <mat-icon>library_add</mat-icon>
              <p>
                <a>Add ID Box</a>
              </p>
            </div>
          </mat-card-content>

          <mat-card-content class="appointees--wrapper" *ngIf="showIdProofListing">
            <div class="cust--user--details mt-1" *ngFor="let idData of essentialIDList; let i = index"
              [routerLink]="[dynamicRoute+'essential-detail-idbox', idData._id]">
              <div class="name--letters">{{getDocType(idData.documentType).charAt(0)+getDocType(idData.documentType).charAt(1)}}</div>
              <div class="user--name">
                <h5>{{getDocType(idData.documentType)}}</h5>
                <p class="mb-0">Last modified:
                  <span
                    *ngIf="idData.modifiedOn && idData.modifiedOn != ''">{{idData.modifiedOn | date: 'yyyy/MM/dd'}}</span>
                  <span *ngIf="!idData.modifiedOn">{{idData.createdOn | date: 'yyyy/MM/dd'}}</span>
                </p>
              </div>
            </div>
          </mat-card-content>
        </div>
        <mat-card-content *ngIf="IDBoxManagementSection !='now'">
          <div>{{LegacyPermissionError}}</div>
        </mat-card-content>
      </mat-card>


      <mat-card class="empty--section p-0">
        <mat-card-header class="m-0">
          <mat-card-title class="m-0">My Professionals</mat-card-title>
          <div *ngIf="showProfessionalsListing && trusteeLegaciesAction && MyProfessionalsManagementSection=='now'">
              <a class="no--of--trustee" *ngIf="showTrusteeCnt"  (click)="openManageTrusteeModal('My Professionals','MyProfessionalsManagement', true)">{{trusteeProfessionalCnt}} Trustees</a>   
            <button mat-raised-button class="llp--primary--btn llp--primary--sm--btn"
              (click)="openProfessionalBoxModal({}, true)">+ Add</button>
          </div>
        </mat-card-header>
        <div *ngIf="MyProfessionalsManagementSection=='now'">
          <mat-card-content *ngIf="!showProfessionalsListing && trusteeLegaciesAction">
            <div class="build--ur--legacy" (click)="openProfessionalBoxModal({}, true)">
              <mat-icon>people</mat-icon>
              <p>
                <a>Add Professionals</a>
              </p>
            </div>
          </mat-card-content>

          <mat-card-content class="appointees--wrapper" *ngIf="showProfessionalsListing">
            <div class="cust--user--details mt-1" *ngFor="let profileData of essentialProfessionalList; let i = index"
              [routerLink]="[dynamicRoute+'essential-professionals-detail', profileData._id]">
              <div class="name--letters">{{profileData.businessName.charAt(0)+profileData.businessName.charAt(1)}}</div>
              <div class="user--name">
                <h5>{{profileData.businessName}}</h5>
                <p class="mb-0">Last modified:
                  <span
                    *ngIf="profileData.modifiedOn && profileData.modifiedOn != ''">{{profileData.modifiedOn | date: 'yyyy/MM/dd'}}</span>
                  <span *ngIf="!profileData.modifiedOn">{{profileData.createdOn | date: 'yyyy/MM/dd'}}</span>
                </p>
              </div>
            </div>
          </mat-card-content>
        </div>
        <mat-card-content *ngIf="MyProfessionalsManagementSection !='now'">
          <div>You don't have access to this section </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>